---
import SiteLayout from "../layouts/SiteLayout.astro";
import NavBar from "../components/NavBar.astro";
import Footer from "../components/Footer.astro";
import "../styles/mods.css";

const mods = [
{
  title: "Alpine Whispers",
  logo: "/assets/mod-logos/alpine_whispers.png",
  description: "Snowy biomes, alpine building materials, atmospheric weather, and new wildlife.",
  wiki: "/wiki/alpine-whispers/",
  source: "https://github.com/Let-s-Do-Collection/AlpineWhispers",
  tags: ["snow", "alpine", "worldgen", "atmosphere", "building", "animals"],
},
    {
      title: "Lili's Pottery",
      logo: "/assets/mod-logos/lilis_pottery.png",
      description: "Handcrafted pottery, functional vessels, and decorative blocks for detailed builds.",
      wiki: "/wiki/lilis-pottery/",
      source: "https://github.com/Let-s-Do-Collection/LilisPottery",
      tags: ["pottery", "decoration", "building", "blocks"],
    },
    {
      title: "Lili's Lucky Lures",
      logo: "/assets/mod-logos/lucky_lures.png",
      description: "Fishing improvements, fun rewards, and cozy extras for relaxed gameplay.",
      wiki: "/docs/mods/lucky-lures/",
      source: "https://github.com/Let-s-Do-Collection/LuckyLures",
      tags: ["fishing", "rewards", "gameplay", "atmosphere", "food"],
    },
  {
    title: "Bakery",
    logo: "/assets/mod-logos/bakery.png",
    description: "Baking, ovens, recipes, and warm kitchen details with a vanilla-friendly feel.",
    wiki: "/docs/mods/bakery/",
    source: "https://github.com/Let-s-Do-Collection/Bakery",
    tags: ["food", "baking", "kitchen", "atmosphere"],
  },
  {
    title: "Beachparty",
    logo: "/assets/mod-logos/beachparty.png",
    description: "Beach vibes, summer decorations, and relaxed gameplay moments by the sea.",
    wiki: "/docs/mods/beachparty/",
    source: "https://github.com/Let-s-Do-Collection/Beachparty",
    tags: ["decor", "summer", "beach", "atmosphere", "biomes", "food", "plants"],
  },
  {
    title: "BloomingNature",
    logo: "/assets/mod-logos/bloomingnature.png",
    description: "More plants, ground cover, and natural decoration to enrich exploration and building.",
    wiki: "/docs/mods/bloomingnature/",
    source: "https://github.com/Let-s-Do-Collection/BloomingNature",
    tags: ["plants", "decor", "worldgen", "nature", "biomes"],
  },
  {
    title: "Brewery",
    logo: "/assets/mod-logos/brewery.png",
    description: "Brewing, beer, food, and a festive tavern atmosphere built around interactive brewing.",
    wiki: "/wiki/brewery/",
    source: "https://github.com/Let-s-Do-Collection/Brewery",
    tags: ["brewing", "beer", "drinks", "food", "atmosphere", "tavern", "festive", "multiblock", "minigame"],
  },
 {
   title: "Camping",
   logo: "/assets/mod-logos/camping.png",
   description: "A small mod focused on camping gear, portable equipment, and cozy outdoor setups for travel and exploration.",
   wiki: "/wiki/camping/",
   source: "https://github.com/Let-s-Do-Collection/Camping",
   tags: [
     "outdoors",
     "camping",
     "survival",
     "exploration",
     "travel",
     "adventure",
     "decor",
     "furniture",
     "storage",
     "backpacks",
     "tents",
     "sleeping bags",
     "food",
     "utility"
   ],
 },
{
  title: "Candlelight",
  logo: "/assets/mod-logos/candlelight.png",
  description: "Cozy dining, fine food, furniture, and elegant decorative details for atmospheric builds.",
  wiki: "/wiki/candlelight/",
  source: "https://github.com/Let-s-Do-Collection/Candlelight",
  tags: [
    "decor",
    "furniture",
    "food",
    "cooking",
    "cozy",
    "atmosphere",
    "interior",
    "roleplay"
  ],
},
  {
    title: "Farm & Charm",
    logo: "/assets/mod-logos/farm_and_charm.png",
    description: "Cozy farming with atmosphere, food prep, and rustic everyday interactions.",
    wiki: "/wiki/farm-and-charm/",
    source: "https://github.com/Let-s-Do-Collection/FarmAndCharm",
    tags: [
      "farming",
      "food",
      "cooking",
      "processing",
      "agriculture",
      "crafting",
      "storage",
      "blocks",
      "items",
      "crops",
      "ingredients",
      "stations",
      "decor",
      "plants",
      "cozy",
      "rustic",
      "immersive",
      "vanilla-plus",
      "lets-do-core",
    ],
  },
{
  title: "Furniture",
    logo: "/assets/mod-logos/furniture.png",
  description: "Furniture focused on cozy interiors: seating, storage, lighting, and small decorative details.",
  wiki: "/wiki/furniture/",
  source: "https://github.com/Let-s-Do-Collection/Furniture",
  tags: ["decor", "interior", "building", "seating", "storage", "lighting"],
},
  {
    title: "HerbalBrews",
    logo: "/assets/mod-logos/herbalbrews.png",
    description: "Herbal drinks, cozy brewing, and small features that fit naturally into gameplay.",
    wiki: "/wiki/herbalbrews/",
    source: "https://github.com/Let-s-Do-Collection/HerbalBrews",
    tags: ["tea", "coffee", "flasks", "potions", "brewing", "cauldron", "kettle", "flowers", "wild-crops", "worldgen", "decor"],
  },
  {
    title: "Meadow",
    logo: "/assets/mod-logos/meadow.png",
    description: "Pastures, cozy nature, and vanilla-friendly world details for long-term survival.",
    wiki: "/docs/mods/meadow/",
    source: "https://github.com/Let-s-Do-Collection/Meadow",
    tags: ["nature", "animals", "decor", "worldgen", "biomes", "food", "atmosphere", "plants"],
  },
  {
    title: "Vinery",
    logo: "/assets/mod-logos/vinery.png",
    description: "Wine making, vineyards, and cozy rustic decor for long-term worlds.",
    wiki: "/wiki/vinery/",
    source: "https://github.com/Let-s-Do-Collection/Vinery",
    tags: ["wine", "winemaking", "vineyard", "farming", "decor", "atmosphere"],
  },
  {
    title: "WilderNature",
    logo: "/assets/mod-logos/wildernature.png",
    description: "Natural world additions, vegetation, and small details that make biomes feel alive.",
    wiki: "/docs/mods/wildernature/",
    source: "https://github.com/Let-s-Do-Collection/WilderNature",
    tags: ["worldgen", "nature", "plants", "atmosphere", "food"],
  },
    {
      title: "Hearth & Timber",
      logo: "/assets/mod-logos/hearth_and_timber.png",
      description: "Woodworking, rustic building pieces, and homey details for long-term worlds.",
      wiki: "/docs/mods/hearth-and-timber/",
      source: "https://github.com/Let-s-Do-Collection/HearthAndTimber",
      tags: ["building", "wood", "decor", "rustic", "biomes"],
    },
];
---

<SiteLayout title="Mods">
  <NavBar />

  <main class="page">
    <section class="section sectionCentered">
      <div class="aboutHero modsHero">
        <div class="aboutHeroBackground modsHeroBackground"></div>
        <h1>Mods</h1>
      </div>
    </section>

    <section class="section sectionCentered sectionTight">
      <div class="sectionTitle">
        <span>Browse the Collection</span>
      </div>

      <p class="sectionSubtitle">Search by name, theme, or feature.</p>

      <div class="modsSearch">
        <input
          id="modsSearchInput"
          class="modsSearchInput"
          type="search"
          placeholder="Search mods..."
          autocomplete="off"
          spellcheck="false"
        />
        <div id="modsSearchMeta" class="modsSearchMeta"></div>
      </div>

      <div class="gridWrapper">
        <div id="modsGrid" class="grid">
          {mods.map((mod) => (
            <article class="card" data-search={`${mod.title} ${mod.description} ${(mod.tags ?? []).join(" ")}`.toLowerCase()}>
              <div class="cardContent">
                <img class="cardLogo" src={mod.logo} alt={mod.title} loading="lazy" />
                <h3>{mod.title}</h3>
                <p>{mod.description}</p>
              </div>

              <div class="cardAction">
                {mod.wiki ? (
                  <a class="btn btnPrimary" href={mod.wiki}>
                    View Wiki
                  </a>
                ) : null}

                {mod.source ? (
                  <a class="btn btnSecondary" href={mod.source} target="_blank" rel="noopener">
                    Source Code
                  </a>
                ) : null}
              </div>
            </article>
          ))}
        </div>
      </div>

      <div id="modsEmpty" class="modsEmpty" style="display: none;">
        No mods match your search.
      </div>
    </section>
  </main>

  <Footer />

  <script is:inline>
    const input = document.getElementById("modsSearchInput")
    const grid = document.getElementById("modsGrid")
    const meta = document.getElementById("modsSearchMeta")
    const empty = document.getElementById("modsEmpty")
    const cards = Array.from(grid.querySelectorAll("[data-search]"))

    const update = () => {
      const q = (input.value || "").trim().toLowerCase()
      let visible = 0

      for (const card of cards) {
        const hay = card.getAttribute("data-search") || ""
        const show = q.length === 0 || hay.includes(q)
        card.style.display = show ? "" : "none"
        if (show) visible++
      }

      meta.textContent = q.length === 0 ? `${cards.length} mods` : `${visible} of ${cards.length}`
      empty.style.display = visible === 0 ? "" : "none"
    }

    input.addEventListener("input", update)
    update()
  </script>
</SiteLayout>